Our group has tried several models in order to minimize the RMSE, and for each model, we found 200 times train group and test group and workout it 200 times RMSE and average them, in order to minimize the error. (If only run the model for only 1 time, there is a big possibility of random). After testing several models’ RMSE, we found a satisfied model which we think it has a low RMSE, at least the RMSE of the model we used is much lower than “medium” model. The model we used is shown below: price=bedrooms+ newConstruction+ heating+ fireplaces+ livingArea+ age+waterfront+centralAir+rooms*heating+landValue*lotSize+rooms\*bathrooms.

    ##            (Intercept)                lotSize                    age 
    ##            28627.73165             9350.45188               47.54722 
    ##             livingArea             pctCollege               bedrooms 
    ##               91.86974              296.50809           -15630.71950 
    ##             fireplaces              bathrooms                  rooms 
    ##              985.06117            22006.97108             3259.11923 
    ## heatinghot water/steam        heatingelectric           fuelelectric 
    ##            -9429.79463            -3609.98574           -12094.12195 
    ##                fueloil           centralAirNo 
    ##            -8873.13971           -17112.81908

    ##                  (Intercept)                     bedrooms 
    ##                 1.218984e+05                -6.332080e+03 
    ##                    bathrooms                      lotSize 
    ##                 3.079944e+03                 1.385334e+04 
    ##            newConstructionNo       heatinghot water/steam 
    ##                 4.895741e+04                 3.955848e+04 
    ##              heatingelectric                        rooms 
    ##                 1.170925e+03                -1.022370e+03 
    ##                   fireplaces                   livingArea 
    ##                 1.032232e+03                 6.624742e+01 
    ##                          age                 waterfrontNo 
    ##                -1.256776e+02                -1.188450e+05 
    ##                    landValue                 centralAirNo 
    ##                 9.634363e-01                -1.003579e+04 
    ## heatinghot water/steam:rooms        heatingelectric:rooms 
    ##                -7.020050e+03                -1.609106e+03 
    ##            lotSize:landValue              bathrooms:rooms 
    ##                -1.346752e-01                 2.930899e+03

In order to find the strong drivers of house prices, I think there are two points of views to find the strong drivers. Firstly, it is important to select if you drop any of the variable in your model, your RMSE will be much bigger. (Say your model is less correctly predict than before). Secondly, check the coefficient of each variable, this aim is to see which variable’s change can lead to big change in price.

As for the first point, our group select some variables which we think can lead to a big increase in RMSE if we drop that variables or interactions, the variable we test respectively are room\*bathrooms, age, bedrooms, and centralAir. And we workout colmeans of each variable. The result is shown below (every time run the coding the result will be different, because the train group and test group are random assigned):

    ##           V1        V2       V3       V4       V5       V6       V7
    ## 1   67574.89  71091.74 56009.29 56395.02 56061.14 55831.97 56192.36
    ## 2   62290.48  63098.06 53307.61 53343.20 53200.81 53221.06 53663.44
    ## 3   72068.38  72448.37 63147.65 63430.15 63307.53 63349.71 63220.52
    ## 4   70481.79  70958.78 59592.04 59945.77 59725.33 59313.05 59963.43
    ## 5   77831.70  77585.87 67128.98 67415.64 67306.15 67234.13 67366.57
    ## 6   76744.07  74014.30 67175.89 66930.95 66777.36 67414.82 67100.13
    ## 7   68272.88  72513.77 56967.31 57364.71 57164.56 56402.57 57060.42
    ## 8   69414.88  70737.98 59604.51 59307.66 59820.87 59741.43 59989.84
    ## 9   69890.38  67654.40 60563.27 60771.45 60734.46 60673.81 60684.04
    ## 10  66246.14  64652.07 61694.44 61634.84 61216.75 61911.57 61795.71
    ## 11  63777.06  64980.01 55729.97 55748.76 55852.75 56021.12 56099.43
    ## 12  69049.26  67291.58 61065.90 61398.06 61247.56 60995.36 61385.65
    ## 13  62370.44  73799.21 59633.77 59908.11 59834.42 59692.86 59882.75
    ## 14  67412.32  69985.72 59099.83 59489.53 59006.79 59265.54 59266.36
    ## 15  68363.13  69494.49 57842.57 57981.58 58056.05 57832.34 58088.60
    ## 16  71109.80  98421.79 64245.79 64032.73 63871.02 64039.47 64256.55
    ## 17  63501.29  69392.96 56823.09 57054.19 56960.32 56984.95 56913.06
    ## 18  64293.34  66702.92 54200.46 54517.76 54236.00 54472.37 54060.71
    ## 19  68095.20  70851.91 55299.58 55514.87 55076.14 55385.69 55356.42
    ## 20  60131.81  64618.02 54408.13 54638.35 54637.17 54528.08 54666.29
    ## 21  73189.05  87579.32 59783.63 60234.37 59886.01 59829.76 59848.28
    ## 22  75680.44  81333.03 63200.18 63573.10 63337.70 63161.36 63386.00
    ## 23  57731.63  66279.00 52515.94 52636.60 52213.84 52536.37 52428.43
    ## 24  53758.40  54972.51 48649.82 48503.49 48905.22 48859.39 49050.51
    ## 25  64720.46  63322.98 55974.04 56309.36 56068.20 56145.04 56113.35
    ## 26  70254.97  76541.84 61937.70 61873.95 61763.31 61907.00 61299.25
    ## 27  66223.83  66063.46 59301.70 59416.65 58843.33 59333.17 59250.52
    ## 28  66816.66  65865.53 61566.82 61911.81 61554.91 61744.92 61785.52
    ## 29  64766.35  63038.71 59602.60 59328.87 59830.22 59647.15 59811.79
    ## 30  57114.14  65504.42 52923.92 53193.68 53076.59 52943.46 52726.22
    ## 31  73370.64  74362.40 61914.69 61860.52 61689.80 62093.66 61787.52
    ## 32  58466.66  58513.63 50440.78 50654.99 50655.40 50734.63 50136.80
    ## 33  64820.93  63718.01 55640.69 56076.89 55881.24 55797.25 55569.23
    ## 34  61669.66  64167.86 58578.92 59016.00 58694.37 58863.14 58430.39
    ## 35  65305.84  65065.30 53919.77 54176.50 54020.00 54095.51 54284.01
    ## 36  61663.84  64784.07 57635.47 57523.05 57566.70 57723.62 57996.00
    ## 37  60473.04  61072.74 53178.00 53328.20 52734.03 53424.51 53192.22
    ## 38  59872.48  64272.78 54215.69 54095.33 54325.10 54352.30 54003.89
    ## 39  66251.28  68576.32 58535.78 58943.06 58723.18 58535.62 58361.49
    ## 40  67443.01  69174.66 60293.58 60155.70 60173.37 60500.67 60394.53
    ## 41  66710.17  67834.70 56755.42 56765.09 56613.07 57029.42 56949.02
    ## 42  64605.47  67566.58 56830.07 57217.75 57044.73 56976.40 57169.22
    ## 43  62004.29  60758.10 55039.16 55246.56 55158.86 55307.75 55281.08
    ## 44  73833.66  91767.14 66568.98 66779.58 66617.52 66759.71 66734.25
    ## 45  60901.82  60432.70 51742.32 51751.27 51854.04 51721.68 51917.07
    ## 46  70967.19  71778.84 58628.07 58621.41 58803.86 58733.93 58996.85
    ## 47  56609.93  88211.61 55072.88 54623.24 55216.06 54830.37 54704.58
    ## 48  62076.57  59344.92 55185.50 55629.23 55146.48 55412.04 55315.25
    ## 49  67263.94  80665.98 62089.30 62245.24 62312.64 62117.63 62131.08
    ## 50  55281.56  56984.72 51627.92 51037.88 51874.25 51967.25 51223.94
    ## 51  62637.55  63476.56 54419.06 54734.90 54613.08 54462.19 54396.01
    ## 52  54699.25  56280.20 48252.02 48362.17 48501.05 48266.27 48552.16
    ## 53  60724.00  66590.59 55160.60 54882.61 55188.36 55445.95 55292.32
    ## 54  67692.87  68844.43 57114.91 57198.86 57357.55 57238.07 57306.72
    ## 55  66697.70  67110.18 60351.71 60164.16 60568.70 60505.46 60712.93
    ## 56  68530.65  71906.41 59526.67 59819.91 59729.41 59696.56 59452.89
    ## 57  61340.90  63150.51 55524.17 55758.45 55376.97 55701.70 55908.01
    ## 58  75149.49  77568.72 60523.87 60922.90 60636.97 60746.85 60525.02
    ## 59  70928.23  70802.61 61760.45 61943.67 61948.78 61831.32 61810.93
    ## 60  58933.81  65096.21 52063.28 52266.06 52216.40 52336.78 52347.07
    ## 61  62622.25  62557.51 53074.21 53203.56 53080.14 53192.24 53342.39
    ## 62  63090.06  63547.46 54707.60 55092.91 54502.06 54891.22 54769.97
    ## 63  64155.28  68662.73 59636.50 59350.15 59600.94 59801.21 59548.94
    ## 64  62241.13  62990.59 57847.35 57798.78 57940.13 57974.98 58021.11
    ## 65  74253.57  76721.43 67771.94 67474.80 67931.29 67996.62 67811.05
    ## 66  62118.78  75818.26 50187.00 50198.38 50029.66 50155.70 50443.06
    ## 67  65651.11  83083.94 58476.71 58047.96 58477.63 58680.44 58618.93
    ## 68  62210.96  63590.28 50961.45 50877.31 51184.96 51174.73 50800.09
    ## 69  69034.32  68845.04 62819.04 63075.50 62238.11 63068.78 63109.10
    ## 70  67372.43  67456.56 57275.09 57414.15 56989.11 57580.91 57416.58
    ## 71  63079.19  75025.58 54593.86 54794.77 54414.70 54532.37 54831.42
    ## 72  61106.17  59229.76 59199.71 59626.13 58812.53 59358.47 59413.04
    ## 73  62325.67  68555.70 54666.95 54914.91 54845.01 54664.44 54942.39
    ## 74  65806.35  66369.59 58290.52 58351.30 58396.25 58341.10 58519.51
    ## 75  58138.11  61681.35 54025.67 53635.25 54161.38 53920.16 54100.30
    ## 76  65145.21  69655.51 50759.60 50766.20 51029.86 50632.32 50777.44
    ## 77  72908.68  72248.70 61640.15 61438.87 61510.74 61851.95 61781.55
    ## 78  75049.87  73924.63 64768.41 64656.52 64153.22 65034.40 64914.68
    ## 79  66816.48  75242.92 61668.68 61374.66 61869.66 61196.40 61946.76
    ## 80  72165.10 277668.29 60825.79 60625.58 60816.61 60889.96 60946.06
    ## 81  73599.21  80027.78 63479.86 63641.04 63551.88 62960.03 63708.37
    ## 82  60801.94  82754.74 59079.52 58962.67 58924.18 58749.01 59041.26
    ## 83  69210.23  70583.20 60151.21 60275.22 60097.47 60295.63 60209.97
    ## 84  63118.30  64819.18 54019.45 54306.73 53533.48 54126.05 54150.09
    ## 85  61156.00  61959.37 56161.64 55808.10 56031.06 56413.74 56059.65
    ## 86  73501.25  71660.08 59214.95 59609.22 59376.69 59268.11 59558.61
    ## 87  74904.07  71915.26 68073.66 67904.52 68123.95 68282.98 68130.00
    ## 88  68811.17  77740.50 64975.34 64934.93 65044.07 65169.34 65224.21
    ## 89  62552.29  81432.41 57958.54 58024.28 58120.30 58197.00 58198.61
    ## 90  79394.01  77863.94 67952.12 67821.69 68145.98 67730.12 67780.32
    ## 91  64974.33  68557.63 54201.79 53723.56 53878.33 54362.90 54114.96
    ## 92  68654.35  85343.85 61597.13 61841.20 61794.85 61720.51 61835.61
    ## 93  66017.66  64261.43 54832.23 55269.04 54684.34 54628.19 54832.13
    ## 94  57981.93  66394.64 51705.96 52179.24 51834.02 51441.22 51678.52
    ## 95  65031.67  64925.75 58483.86 58324.69 58643.94 57652.22 58828.01
    ## 96  74464.74  78015.84 63080.35 63254.55 63228.56 63249.18 63286.70
    ## 97  65756.61  67054.16 57074.08 57473.57 57234.41 57097.69 57278.83
    ## 98  70115.83  71985.41 61672.39 61795.20 61410.30 61885.52 61903.35
    ## 99  70228.35  99621.81 64802.18 64083.56 64535.95 64863.85 64488.92
    ## 100 66174.68  67508.80 56674.91 56574.47 56696.23 56648.31 56943.80
    ## 101 65512.91  62320.30 53623.32 53716.15 53857.85 53731.63 53713.17
    ## 102 74520.12  74700.85 65875.77 66036.43 65992.04 65716.70 65981.97
    ## 103 62331.83  64402.48 54040.15 53394.78 53920.14 54274.29 54355.29
    ## 104 67264.57  68137.57 60183.62 60432.21 60367.16 60198.17 59960.47
    ## 105 68761.17  65827.54 60736.40 60940.63 60934.22 60926.15 60939.61
    ## 106 63348.32  59703.44 53957.60 54345.28 54188.08 54168.92 54048.05
    ## 107 62856.13  67509.96 55126.78 55228.60 55192.02 55103.71 55179.49
    ## 108 63618.96  66898.70 55672.13 55954.80 54982.72 55817.56 55818.88
    ## 109 66705.98  70212.73 59957.32 59466.23 59799.15 60231.58 60071.91
    ## 110 68204.87 396472.03 60110.68 60289.69 60070.88 60125.39 59946.64
    ## 111 69077.53  70520.94 59498.00 59604.27 59529.87 59700.11 59646.63
    ## 112 71149.49  74072.27 61154.20 61366.38 61364.96 61431.05 61366.08
    ## 113 77878.27  74339.03 67316.87 67615.90 67488.84 67283.28 67526.61
    ## 114 65876.54  87314.56 57743.39 57768.28 57908.35 57800.18 57859.26
    ## 115 59408.31  64701.21 54336.50 53516.22 54303.14 53914.46 54455.05
    ## 116 70865.53  70425.83 56692.32 56770.45 56911.83 56843.87 56867.51
    ## 117 68493.06  79250.56 57944.75 58202.60 58054.81 58193.35 58143.56
    ## 118 56856.90  96806.16 51526.85 50885.14 51719.05 51758.98 50961.27
    ## 119 60958.08  62345.64 56237.81 55694.75 56158.48 56493.40 56453.32
    ## 120 59759.16  58373.28 51101.06 51432.43 51247.54 50999.56 51135.08
    ## 121 73041.43  69294.18 65139.75 65541.02 65233.82 65294.11 65351.25
    ## 122 70398.15  66682.39 62472.56 62884.71 62444.62 62448.71 62862.82
    ## 123 63294.11  63720.97 52997.40 53398.34 53262.69 53133.46 53304.38
    ## 124 64456.04  65389.22 59041.86 59370.18 58996.27 59130.99 59136.45
    ## 125 64172.18 125455.23 57008.32 56792.01 57221.76 57084.90 56888.05
    ## 126 76675.75  87501.39 70643.83 70689.52 70703.52 70720.67 70945.69
    ## 127 63472.21  65333.36 58015.28 58254.30 58072.60 58064.06 58401.35
    ## 128 66190.92  77539.66 57966.17 57584.83 58129.86 58125.17 58212.47
    ## 129 64480.39  66881.85 57077.40 57474.95 57288.92 56963.99 57403.91
    ## 130 56985.91  63121.45 52697.57 52180.71 52828.29 52933.98 52517.64
    ## 131 67424.81  69984.79 59263.69 59317.95 59084.58 59539.72 59417.13
    ## 132 73106.47  71694.30 64608.55 64477.98 64591.92 64837.37 64883.20
    ## 133 67793.22 180146.57 59175.67 58952.61 59153.98 59081.00 59323.30
    ## 134 69499.82  70338.06 60631.37 60666.59 60781.20 60858.47 60868.30
    ## 135 73276.36  75024.74 65129.65 65525.07 64901.96 65196.85 64826.26
    ## 136 69470.48  69501.97 59673.76 60119.83 59889.64 59859.11 59828.61
    ## 137 68144.27  75614.98 61365.01 61508.90 61361.44 61578.01 61285.41
    ## 138 66780.27  70614.35 55174.88 55360.53 55206.83 55215.53 55398.17
    ## 139 62847.67  66785.92 49995.00 50142.67 49794.78 50204.56 49854.51
    ## 140 69845.72  70264.64 56706.62 57037.12 56825.79 56763.05 56849.09
    ## 141 64678.42  66525.32 54358.32 54282.12 54469.74 54285.74 54406.28
    ## 142 62554.98  80556.31 56385.81 56645.36 56618.58 56096.10 56664.13
    ## 143 60362.63  59003.00 55587.87 55972.17 55689.03 55870.65 55901.80
    ## 144 68844.34  69895.52 60921.72 60942.02 61130.66 60928.57 60723.52
    ## 145 59044.63  57024.90 54040.85 54098.99 53631.04 54131.35 54310.51
    ## 146 66580.74  66158.95 61139.83 61391.50 61131.51 61319.39 61287.41
    ## 147 75321.14  80119.05 67114.00 67280.97 67288.38 66749.15 67310.39
    ## 148 72902.85  75873.07 62996.58 63367.40 63194.96 63019.74 63313.04
    ## 149 61658.53  64633.25 56123.85 56074.28 56349.86 56360.61 56529.55
    ## 150 63452.60  62416.10 57696.98 57712.63 57551.67 57760.94 57904.37
    ## 151 64585.97  67210.97 58070.17 57768.05 58077.87 58240.60 57909.78
    ## 152 67910.28 149961.15 58022.21 58308.30 58172.34 57945.09 58356.68
    ## 153 68864.49  68122.08 56716.49 57007.30 56911.91 56637.07 56994.05
    ## 154 64477.25  65014.02 57119.36 57444.08 57253.41 57313.37 57462.00
    ## 155 63297.82  60921.41 59948.65 59920.38 60068.28 60051.06 60329.66
    ## 156 71472.86  73471.48 62190.01 61773.16 60907.57 61757.43 62174.12
    ## 157 58428.87  60621.01 51894.12 51972.30 51823.16 52089.68 51898.34
    ## 158 64436.41  71780.17 57528.31 57555.16 57755.32 57615.28 57405.18
    ## 159 62050.81  59760.95 52977.64 53321.99 53094.64 52961.16 53226.83
    ## 160 68870.76  65982.49 57864.01 58278.58 57762.31 58064.50 57728.22
    ## 161 68513.81  67076.89 63097.88 63464.81 63108.14 63264.96 62999.62
    ## 162 67793.17  67800.41 57737.30 57602.95 57753.61 57770.83 57711.08
    ## 163 66810.26  65391.62 60268.35 59561.01 60458.99 60175.52 60317.74
    ## 164 59179.10  61817.91 53387.95 53281.39 53445.26 53425.81 53759.88
    ## 165 73381.46  76464.84 64114.09 63749.76 63964.19 63752.36 64239.40
    ## 166 63815.99  63112.86 53578.57 53441.30 53709.36 53340.67 53773.22
    ## 167 63862.85  65505.61 52094.88 51982.77 52278.19 52396.06 52268.68
    ## 168 75280.30  76135.79 68154.44 68325.99 68070.99 68355.74 68134.75
    ## 169 62624.78  68742.05 52585.38 52815.35 52826.30 52692.04 52032.36
    ## 170 67628.28  68337.75 55134.98 55304.90 55314.46 54849.89 55448.18
    ## 171 62783.35  66656.33 54043.59 54397.02 54240.88 54260.80 54024.69
    ## 172 58245.42  58598.46 55189.58 55225.95 55416.52 55339.77 55247.94
    ## 173 59841.99  61525.93 53694.58 53321.38 53701.23 53868.68 53667.64
    ## 174 61672.11  62099.30 54641.26 54819.55 54611.93 54651.55 54609.17
    ## 175 57935.57  69479.70 53283.39 53557.15 53462.38 52957.46 53497.11
    ## 176 72482.94  73586.15 63928.37 64024.14 63354.65 63833.46 64094.95
    ## 177 63388.95  63405.31 58371.42 58453.21 57925.53 58634.41 58728.50
    ## 178 74979.33  74198.13 67593.98 67152.60 67692.04 67460.66 67947.56
    ## 179 69430.32  73331.68 61651.64 61762.64 61532.50 61794.80 61319.97
    ## 180 70669.66  71053.14 59486.73 58979.52 59097.20 59720.65 59694.76
    ## 181 68736.78  77252.73 62768.57 62310.51 62818.40 62895.72 62848.71
    ## 182 64262.06  63824.55 55136.50 55265.47 55075.90 55325.52 55288.66
    ## 183 62400.17  64831.51 52156.37 52620.60 52325.04 51997.39 52105.26
    ## 184 65541.03  66580.24 54731.03 55172.41 54799.70 54931.35 54971.79
    ## 185 75488.67  74952.21 68631.82 68373.87 68540.29 68803.43 68452.04
    ## 186 80152.66  82375.02 68867.35 69075.89 68854.40 69023.12 68971.93
    ## 187 69292.46  69581.30 63161.23 63499.22 63294.41 63344.95 63398.86
    ## 188 67579.98  65587.76 57880.16 58244.57 57709.53 57757.02 58107.92
    ## 189 63368.98  66905.32 57155.26 57565.11 57322.91 57139.86 57398.74
    ## 190 62642.70  62760.88 59563.83 59394.05 59612.91 58951.95 59545.61
    ## 191 61317.85  63891.48 53254.46 53411.01 53498.66 53242.48 53195.82
    ## 192 62372.62  66756.48 55698.40 55536.09 55711.02 55180.31 55983.46
    ## 193 59232.85  64520.07 52355.93 52518.45 52472.07 52670.04 52620.14
    ## 194 66666.72  64906.19 57885.55 58169.63 57974.83 57903.65 57963.63
    ## 195 67681.73  69136.63 62761.99 62669.97 62761.41 62551.83 62866.34
    ## 196 72120.00  70507.89 61217.41 61504.99 61147.23 61480.28 61343.97
    ## 197 64214.41  66374.32 50649.04 51111.43 50855.81 50529.67 51099.41
    ## 198 70365.73  69725.91 59819.17 59922.11 59425.71 60083.41 59755.00
    ## 199 74983.92  72845.00 62592.17 62853.41 62696.93 62789.54 62541.95
    ## 200 67847.72  67588.74 58144.39 58375.34 58307.49 58034.73 58281.77

    ##       V1       V2       V3       V4       V5       V6       V7 
    ## 66295.15 73317.38 58193.80 58270.03 58217.53 58257.17 58304.91

The above result represents that: v1-meidium model v2-big model v3-standard model-the model we use v4-v7 are the models to test which variables in v3 model are “strong drivers” v4-standard model without room\*bathrooms variable v5-standared model without age variable v6-standard model without bedrooms variable v7-standard model without centralAir Variable From the result above we can see standard model has the lowest RMSE. (cause it runs 200 times so the colMeans result is stable to most extent) And it is much lower than the medium model. Comparing v3 with v4-v7, we can see the biggest difference with v3 is v7(without centralAir variable) the second biggest difference is V6 (without bedrooms variable) So accordingly, we think centralAir and bedrooms are strong drivers house prices according to RMSE indicator.

    ##                  (Intercept)                     bedrooms 
    ##               135079.4418446                -7171.2026145 
    ##            newConstructionNo       heatinghot water/steam 
    ##                53275.0578556                32241.3141909 
    ##              heatingelectric                   fireplaces 
    ##                 -108.8123045                  664.7906035 
    ##                   livingArea                          age 
    ##                   67.5825972                 -157.7989136 
    ##                 waterfrontNo                 centralAirNo 
    ##              -130517.3952388               -12427.4506998 
    ##                        rooms                    landValue 
    ##                -1395.5483985                    0.9228205 
    ##                      lotSize                    bathrooms 
    ##                13373.7703877                 3516.4460371 
    ## heatinghot water/steam:rooms        heatingelectric:rooms 
    ##                -5769.7411146                -1503.4516990 
    ##            landValue:lotSize              rooms:bathrooms 
    ##                   -0.1169800                 2904.0868694

As for the second point, our group will workout the coefficient of the model we select

we found the coefficient of each variable as the above coding shows.And we give a definition that top 3 coefficient variables are strong driver: so in this case, livingarea, bathrooms and landValue are 3 strong drivers.

As the above shows we break the categorical variable in order to run KNN model, also this aim is to figure out what does the KNN model like.

    ##     lotSize age landValue livingArea bedrooms fireplaces bathrooms rooms
    ## 152    0.14  16     19600       1343        2          1       1.5     6
    ## 970    0.66  19     53000       2217        4          1       2.5     8
    ##     heatinghot air heatinghot water/steam heatingelectric waterfrontNo
    ## 152              0                      0               1            1
    ## 970              1                      0               0            1
    ##     newConstructionNo centralAirNo
    ## 152                 1            0
    ## 970                 1            0

    ##     lotSize    age landValue livingArea bedrooms fireplaces bathrooms
    ## 152  -0.533 -0.411    -0.435     -0.680   -1.427      0.724    -0.623
    ## 970   0.247 -0.307     0.488      0.749    1.044      0.724     0.899
    ##      rooms heatinghot air heatinghot water/steam heatingelectric
    ## 152 -0.458         -1.357                 -0.459           2.153
    ## 970  0.411          0.736                 -0.459          -0.464
    ##     waterfrontNo newConstructionNo centralAirNo
    ## 152        0.097             0.222       -1.313
    ## 970        0.097             0.222       -1.313

    ## [1] 64122.49

    ## 
    ## Attaching package: 'foreach'

    ## The following objects are masked from 'package:purrr':
    ## 
    ##     accumulate, when

We also need to standarized each variable as the above explained.

After we need to know which K will minimize the RMSE in KNN model, so that we can use the lowest RMSE in KNN to compaere with the RMSE in handbuild model.

    ## [1] 24

    ## [1] 62623.87

![](Untitled_files/figure-markdown_github/setup6-1.png)

    ## [1] "rmse is 78641.1237751686"
    ## [1] "K is 1"
    ## [1] "rmse is 69612.0337747728"
    ## [1] "K is 2"
    ## [1] "rmse is 65898.8970284054"
    ## [1] "K is 3"
    ## [1] "rmse is 64491.4414674147"
    ## [1] "K is 4"
    ## [1] "rmse is 64179.3704377641"
    ## [1] "K is 5"
    ## [1] "rmse is 64032.7945454246"
    ## [1] "K is 6"
    ## [1] "rmse is 63218.0729996253"
    ## [1] "K is 7"
    ## [1] "rmse is 63495.359327633"
    ## [1] "K is 8"
    ## [1] "rmse is 64233.8923222609"
    ## [1] "K is 9"
    ## [1] "rmse is 64122.487967819"
    ## [1] "K is 10"
    ## [1] "rmse is 63911.6971833233"
    ## [1] "K is 11"
    ## [1] "rmse is 63678.7330613123"
    ## [1] "K is 12"
    ## [1] "rmse is 63036.9085120751"
    ## [1] "K is 13"
    ## [1] "rmse is 62870.7261864349"
    ## [1] "K is 14"
    ## [1] "rmse is 63207.7469122691"
    ## [1] "K is 15"
    ## [1] "rmse is 62961.7190668298"
    ## [1] "K is 16"
    ## [1] "rmse is 62898.8725775851"
    ## [1] "K is 17"
    ## [1] "rmse is 63101.5641197294"
    ## [1] "K is 18"
    ## [1] "rmse is 63351.4676046934"
    ## [1] "K is 19"
    ## [1] "rmse is 63226.7755636151"
    ## [1] "K is 20"
    ## [1] "rmse is 62980.3439513806"
    ## [1] "K is 21"
    ## [1] "rmse is 62767.4422992161"
    ## [1] "K is 22"
    ## [1] "rmse is 62869.1421943119"
    ## [1] "K is 23"
    ## [1] "rmse is 62623.8665725665"
    ## [1] "K is 24"
    ## [1] "rmse is 62921.254941281"
    ## [1] "K is 25"
    ## [1] "rmse is 62824.2705353027"
    ## [1] "K is 26"
    ## [1] "rmse is 62840.9706375508"
    ## [1] "K is 27"
    ## [1] "rmse is 62781.5294169326"
    ## [1] "K is 28"
    ## [1] "rmse is 62864.7040723902"
    ## [1] "K is 29"
    ## [1] "rmse is 62866.4704146615"
    ## [1] "K is 30"
    ## [1] "rmse is 62787.8165936114"
    ## [1] "K is 31"
    ## [1] "rmse is 62868.7086064979"
    ## [1] "K is 32"
    ## [1] "rmse is 62838.8791553395"
    ## [1] "K is 33"
    ## [1] "rmse is 62767.3975949409"
    ## [1] "K is 34"
    ## [1] "rmse is 62809.6678107164"
    ## [1] "K is 35"
    ## [1] "rmse is 62814.7314210668"
    ## [1] "K is 36"
    ## [1] "rmse is 62847.7135484226"
    ## [1] "K is 37"
    ## [1] "rmse is 62960.9428742901"
    ## [1] "K is 38"
    ## [1] "rmse is 62798.2161558734"
    ## [1] "K is 39"
    ## [1] "rmse is 62767.9481450686"
    ## [1] "K is 40"
    ## [1] "rmse is 62919.22317428"
    ## [1] "K is 41"
    ## [1] "rmse is 62990.7734976536"
    ## [1] "K is 42"
    ## [1] "rmse is 63178.4039847005"
    ## [1] "K is 43"
    ## [1] "rmse is 63250.8177802851"
    ## [1] "K is 44"
    ## [1] "rmse is 63376.0795965453"
    ## [1] "K is 45"
    ## [1] "rmse is 63435.0470334124"
    ## [1] "K is 46"
    ## [1] "rmse is 63563.7354901905"
    ## [1] "K is 47"
    ## [1] "rmse is 63593.8419735928"
    ## [1] "K is 48"
    ## [1] "rmse is 63677.4808671759"
    ## [1] "K is 49"
    ## [1] "rmse is 63708.6097952725"
    ## [1] "K is 50"
    ## [1] "rmse is 63794.5923759807"
    ## [1] "K is 51"
    ## [1] "rmse is 63937.2474902107"
    ## [1] "K is 52"
    ## [1] "rmse is 64210.2442028802"
    ## [1] "K is 53"
    ## [1] "rmse is 64450.858520536"
    ## [1] "K is 54"
    ## [1] "rmse is 64591.0661525349"
    ## [1] "K is 55"
    ## [1] "rmse is 64740.9525480875"
    ## [1] "K is 56"
    ## [1] "rmse is 64671.7903431444"
    ## [1] "K is 57"
    ## [1] "rmse is 64674.0260710285"
    ## [1] "K is 58"
    ## [1] "rmse is 64715.8633280249"
    ## [1] "K is 59"
    ## [1] "rmse is 64797.3177635569"
    ## [1] "K is 60"
    ## [1] "rmse is 64791.0353892404"
    ## [1] "K is 61"
    ## [1] "rmse is 64771.3459644923"
    ## [1] "K is 62"
    ## [1] "rmse is 64861.6113946903"
    ## [1] "K is 63"
    ## [1] "rmse is 64824.6452783282"
    ## [1] "K is 64"
    ## [1] "rmse is 64782.3364995964"
    ## [1] "K is 65"
    ## [1] "rmse is 64834.6347089817"
    ## [1] "K is 66"
    ## [1] "rmse is 64885.175453564"
    ## [1] "K is 67"
    ## [1] "rmse is 64747.5244022558"
    ## [1] "K is 68"
    ## [1] "rmse is 64870.5101973421"
    ## [1] "K is 69"
    ## [1] "rmse is 64808.1210160733"
    ## [1] "K is 70"
    ## [1] "rmse is 64810.5974912011"
    ## [1] "K is 71"
    ## [1] "rmse is 64938.3104731669"
    ## [1] "K is 72"
    ## [1] "rmse is 65039.7873154538"
    ## [1] "K is 73"
    ## [1] "rmse is 65056.8589034658"
    ## [1] "K is 74"
    ## [1] "rmse is 65065.982968682"
    ## [1] "K is 75"
    ## [1] "rmse is 65187.0862675059"
    ## [1] "K is 76"
    ## [1] "rmse is 65207.672831938"
    ## [1] "K is 77"
    ## [1] "rmse is 65233.9273244859"
    ## [1] "K is 78"
    ## [1] "rmse is 65287.4519859136"
    ## [1] "K is 79"
    ## [1] "rmse is 65253.4983961709"
    ## [1] "K is 80"
    ## [1] "rmse is 65253.6568623408"
    ## [1] "K is 81"
    ## [1] "rmse is 65318.0671066844"
    ## [1] "K is 82"
    ## [1] "rmse is 65343.1402645466"
    ## [1] "K is 83"
    ## [1] "rmse is 65362.5653897956"
    ## [1] "K is 84"
    ## [1] "rmse is 65369.6178438845"
    ## [1] "K is 85"
    ## [1] "rmse is 65404.5283130744"
    ## [1] "K is 86"
    ## [1] "rmse is 65470.2609330651"
    ## [1] "K is 87"
    ## [1] "rmse is 65431.4208164352"
    ## [1] "K is 88"
    ## [1] "rmse is 65358.2769555068"
    ## [1] "K is 89"
    ## [1] "rmse is 65326.5785288945"
    ## [1] "K is 90"
    ## [1] "rmse is 65317.1258057658"
    ## [1] "K is 91"
    ## [1] "rmse is 65331.2104127162"
    ## [1] "K is 92"
    ## [1] "rmse is 65332.5092919579"
    ## [1] "K is 93"
    ## [1] "rmse is 65330.6125969996"
    ## [1] "K is 94"
    ## [1] "rmse is 65284.1992727092"
    ## [1] "K is 95"
    ## [1] "rmse is 65337.6689790396"
    ## [1] "K is 96"
    ## [1] "rmse is 65358.4167971938"
    ## [1] "K is 97"
    ## [1] "rmse is 65327.4719022241"
    ## [1] "K is 98"
    ## [1] "rmse is 65391.5105566831"
    ## [1] "K is 99"
    ## [1] "rmse is 65412.3133986979"
    ## [1] "K is 100"

Using the code above, we can print out what RMSE the model has and its according K. Also we can find out which K has the minimum RMSE and how much is minimized RMSE.

And RMSE in KNN model is bigger than the “hand build linear model” in most cases (both models using the same train and test data set), the reason why it is most cases is becasue when we distribute train data set and test data set, the process is random so that we will have different train data set and test data set each time. But overall we can give a conclusion that linear model can predict more accurately than KNN model, so hand build linear model can turn into better performing than KNN model.

So for local taxing authority, they need to levy tax according to the price of house, as the above illustrated, the hand build model has more accurately prediction, so it is better for taxing authority using the hand build linear model to predict price: price=bedrooms+ newConstruction+ heating+ fireplaces+ livingArea+ age+waterfront+centralAir+rooms*heating+landValue*lotSize+rooms\*bathrooms. And according to the predicted price, it can know how much local taxing authority should tax.
