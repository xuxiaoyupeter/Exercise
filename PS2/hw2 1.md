Our group has tried several models in order to minimize the RMSE, and for each model, we found 200 times train group and test group and workout it 200 times RMSE and average them, in order to minimize the error. (If only run the model for only 1 time, there is a big possibility of random). After testing several models’ RMSE, we found a satisfied model which we think it has a low RMSE, at least the RMSE of the model we used is much lower than “medium” model. The model we used is shown below: price=bedrooms+ newConstruction+ heating+ fireplaces+ livingArea+ age+waterfront+centralAir+rooms*heating+landValue*lotSize+rooms\*bathrooms.

    ##            (Intercept)                lotSize                    age 
    ##            28627.73165             9350.45188               47.54722 
    ##             livingArea             pctCollege               bedrooms 
    ##               91.86974              296.50809           -15630.71950 
    ##             fireplaces              bathrooms                  rooms 
    ##              985.06117            22006.97108             3259.11923 
    ## heatinghot water/steam        heatingelectric           fuelelectric 
    ##            -9429.79463            -3609.98574           -12094.12195 
    ##                fueloil           centralAirNo 
    ##            -8873.13971           -17112.81908

    ##                  (Intercept)                     bedrooms 
    ##                 1.218984e+05                -6.332080e+03 
    ##                    bathrooms                      lotSize 
    ##                 3.079944e+03                 1.385334e+04 
    ##            newConstructionNo       heatinghot water/steam 
    ##                 4.895741e+04                 3.955848e+04 
    ##              heatingelectric                        rooms 
    ##                 1.170925e+03                -1.022370e+03 
    ##                   fireplaces                   livingArea 
    ##                 1.032232e+03                 6.624742e+01 
    ##                          age                 waterfrontNo 
    ##                -1.256776e+02                -1.188450e+05 
    ##                    landValue                 centralAirNo 
    ##                 9.634363e-01                -1.003579e+04 
    ## heatinghot water/steam:rooms        heatingelectric:rooms 
    ##                -7.020050e+03                -1.609106e+03 
    ##            lotSize:landValue              bathrooms:rooms 
    ##                -1.346752e-01                 2.930899e+03

In order to find the strong drivers of house prices, I think there are two points of views to find the strong drivers. Firstly, it is important to select if you drop any of the variable in your model, your RMSE will be much bigger. (Say your model is less correctly predict than before). Secondly, check the coefficient of each variable, this aim is to see which variable’s change can lead to big change in price.

As for the first point, our group select some variables which we think can lead to a big increase in RMSE if we drop that variables or interactions, the variable we test respectively are room\*bathrooms, age, bedrooms, and centralAir. And we workout colmeans of each variable. The result is shown below (every time run the coding the result will be different, because the train group and test group are random assigned):

    ##           V1        V2       V3       V4       V5       V6       V7
    ## 1   58373.21  61725.57 49720.28 49548.35 49941.02 49813.02 49488.51
    ## 2   65706.83  65030.75 55030.66 54843.60 55204.95 54672.57 55194.03
    ## 3   69914.93  73548.39 60396.56 60632.57 60022.70 60499.10 60703.77
    ## 4   57098.10  57393.05 46331.95 45988.45 46424.45 46164.17 46385.16
    ## 5   62338.66 153603.78 59057.31 59257.65 59284.85 59330.00 58565.45
    ## 6   64059.67  72783.20 55412.30 55552.27 54889.26 55284.77 55667.63
    ## 7   60532.11  64124.69 56784.63 56796.19 56817.35 56964.49 56839.27
    ## 8   66236.27  67412.27 58371.43 57664.44 58562.96 57676.91 58655.79
    ## 9   67832.63  65583.55 61526.29 61756.75 61533.09 61630.74 61547.74
    ## 10  77189.58 154869.53 69024.43 68899.08 68599.06 69207.57 68902.14
    ## 11  66738.82 112648.39 62679.05 63019.99 62787.90 62749.85 62847.45
    ## 12  69059.09 206917.51 64427.19 64778.94 64380.78 64375.31 64652.18
    ## 13  73299.10  72958.54 63222.41 63600.04 62943.15 63217.72 63562.44
    ## 14  55691.96  56776.30 48700.32 48649.04 48942.08 48904.64 48897.85
    ## 15  73956.22 124429.84 62390.08 61829.36 62568.98 62646.10 62349.32
    ## 16  64777.58  66473.75 56904.93 57173.04 56999.57 57088.72 57071.20
    ## 17  64994.34  68366.88 59749.39 60026.09 59694.77 59938.98 59622.04
    ## 18  64484.23  68653.52 59181.16 59352.00 59217.13 59257.79 59356.46
    ## 19  67484.85  67781.16 62378.31 62096.39 62022.01 62636.42 62234.85
    ## 20  77592.49  77519.40 63898.12 64214.92 63961.52 63959.01 64109.48
    ## 21  61167.71 101902.52 56072.28 56018.62 56072.62 56126.06 56105.78
    ## 22  75657.93  75060.28 62420.39 62402.49 62448.32 62650.25 62619.96
    ## 23  65578.13  66184.56 57362.74 56870.54 57277.23 57391.57 57783.55
    ## 24  81833.09  88136.67 73809.39 73982.21 73754.96 74013.25 73888.58
    ## 25  65387.52  63818.08 58189.92 58447.86 58039.41 58425.39 58209.98
    ## 26  66727.90  86177.45 56853.96 56655.94 56800.28 57002.93 57208.72
    ## 27  63251.14  69597.73 49376.97 49670.89 49529.91 49494.54 49670.79
    ## 28  63959.75  68529.26 55065.39 54565.16 55269.24 54965.93 55236.02
    ## 29  65629.66  66725.62 60540.32 60096.69 60386.46 60805.84 60361.43
    ## 30  69113.72  66927.87 62041.99 61846.37 61888.08 62064.29 61889.60
    ## 31  62445.14  66424.25 52972.23 52911.79 53113.96 53124.84 52829.85
    ## 32  67326.08  70110.83 62749.41 62324.05 62585.18 62897.93 62947.29
    ## 33  71190.88  71540.12 60487.56 60660.72 60551.05 60702.32 60630.31
    ## 34  65499.77  67093.46 57005.42 56458.62 57184.57 56623.35 57160.13
    ## 35  57518.10  56819.00 49658.34 49370.62 49569.36 49589.63 50099.39
    ## 36  73066.33  73074.96 63294.64 63732.13 63506.50 63337.24 63557.99
    ## 37  71680.76  71717.66 64320.77 64495.45 64436.71 64579.64 64460.27
    ## 38  76078.86  75523.00 66609.21 66943.15 66579.55 66349.32 66634.35
    ## 39  70946.46  72401.58 62502.60 62483.65 62386.50 62224.56 62686.56
    ## 40  62124.75  69664.36 54113.67 53888.93 53931.35 54216.66 54151.58
    ## 41  77480.42  78344.88 66724.22 66459.17 66099.40 66999.97 66865.78
    ## 42  77085.81  80333.67 67350.34 67611.51 66466.00 67431.36 67560.48
    ## 43  74860.12  71516.67 62714.37 63137.73 62862.40 62626.85 62616.18
    ## 44  75841.42  79807.72 65764.62 66084.78 65530.47 65797.52 65892.28
    ## 45  68112.73  71387.12 57376.05 57593.49 57548.28 57621.67 57579.77
    ## 46  70173.12  90601.74 62088.63 61938.36 62056.44 62279.43 61383.42
    ## 47  70136.85  71318.65 57996.04 58146.25 58233.37 57977.57 57837.90
    ## 48  60257.85  62666.40 54753.77 54892.40 54970.92 55037.12 54827.54
    ## 49  61692.59  60426.38 52137.50 52004.12 52373.09 52448.52 52244.24
    ## 50  71563.00  75047.06 60097.80 59631.12 59937.37 60119.74 60428.49
    ## 51  66714.01  69716.22 56088.70 56126.86 56076.84 56026.32 56158.00
    ## 52  71446.23  72695.92 62048.14 62269.95 62262.75 62140.28 61842.93
    ## 53  66274.65  73183.06 59838.27 59756.05 59952.55 60031.13 60185.02
    ## 54  62460.23  63575.02 55599.98 56016.16 55745.20 55595.56 55666.06
    ## 55  60135.18  60861.68 53690.73 54088.31 53860.24 53807.73 54037.79
    ## 56  67195.41  73379.93 62348.73 62142.85 62436.91 62447.64 62709.35
    ## 57  66359.36  71672.43 57382.83 57536.95 57490.39 57384.75 57344.91
    ## 58  63449.54  63613.97 53150.38 53441.87 53249.20 52843.64 53336.36
    ## 59  63600.23  64865.94 51612.81 50843.99 51816.39 51657.91 51679.50
    ## 60  64304.64  61889.26 57353.72 57175.43 57435.18 57639.70 57450.69
    ## 61  59471.86  56808.05 52557.36 53029.30 52816.44 52661.82 52902.23
    ## 62  60940.32  67752.17 52984.17 53189.35 53230.83 52084.00 53400.34
    ## 63  68113.41  91177.06 59650.46 59892.37 59689.59 59786.74 59748.02
    ## 64  70672.13  76304.72 59508.19 59858.97 59593.50 59344.60 59651.55
    ## 65  66709.72  68224.79 57760.77 58186.33 57951.27 57870.13 58047.98
    ## 66  58590.93  65267.81 55049.65 55324.58 54609.31 54998.60 55280.16
    ## 67  63810.27  64839.00 54819.25 55239.07 55063.66 54864.64 55026.46
    ## 68  72015.43  71156.74 60158.30 60354.42 60216.55 60398.84 60550.85
    ## 69  76584.82  76113.47 65512.58 65514.55 65603.69 65393.57 65712.76
    ## 70  58094.60  61542.29 52281.52 51756.68 52370.20 52608.31 52336.81
    ## 71  56976.62  55114.52 50391.57 50650.36 50401.56 50624.92 50611.52
    ## 72  69114.07  66705.32 60906.71 61316.41 61025.90 60707.75 61215.39
    ## 73  64480.34  65514.25 61348.21 61641.03 61563.64 61450.35 61438.74
    ## 74  60492.15  64659.19 53124.52 53320.82 53290.34 53213.25 53038.87
    ## 75  69179.27  69881.45 60746.65 59497.95 60916.69 60912.90 60922.35
    ## 76  68873.98  66443.90 61471.85 61783.93 61251.40 61652.56 61563.61
    ## 77  72816.47 113352.99 66181.78 66124.15 66280.21 65562.18 66242.33
    ## 78  64478.41  67484.60 57251.54 55793.45 56983.97 57241.70 57501.17
    ## 79  65294.03 100390.13 57852.94 57731.24 57998.64 58128.37 57667.12
    ## 80  68438.17  66810.65 56739.64 56987.26 56882.68 56341.69 56916.58
    ## 81  62261.12  59897.64 58863.27 58726.45 58768.28 58848.22 58674.82
    ## 82  61453.67  67629.08 56356.26 56262.94 56549.43 56643.31 56684.98
    ## 83  57817.08  80895.47 51171.80 51513.03 51294.04 50796.74 51103.50
    ## 84  65468.76  67344.19 54492.81 54618.27 54591.39 54011.27 54826.48
    ## 85  71610.15  68700.90 60139.61 60508.50 60056.45 60051.27 60443.40
    ## 86  70511.52  70016.79 60682.92 60981.97 60678.45 60975.04 60977.01
    ## 87  70361.43  69063.29 62808.26 62945.66 62868.39 62942.60 63133.20
    ## 88  70217.58  69491.72 55815.58 56028.06 55435.83 56044.39 56021.46
    ## 89  68430.17  70887.79 58576.84 58274.48 58769.52 58867.95 58645.88
    ## 90  73713.43  73634.85 66265.98 66265.34 66382.24 66459.72 66508.36
    ## 91  60447.97  62179.02 55269.99 55367.31 55293.33 55094.43 55563.09
    ## 92  64010.33  65414.24 55867.23 56211.71 56018.70 55745.26 56089.75
    ## 93  68333.97  73207.91 62751.35 62877.63 62819.67 62988.06 62216.56
    ## 94  65379.44  65489.74 59056.23 59257.08 59214.85 59172.80 59376.89
    ## 95  62824.09  66757.97 56698.03 56677.55 56912.77 56916.93 56850.59
    ## 96  71806.97  70859.15 62776.10 63140.19 62937.42 61849.40 62823.32
    ## 97  60277.06  62575.59 51649.59 52096.36 51734.94 51677.15 51881.54
    ## 98  71298.54  69543.22 65589.63 65831.81 65789.87 65350.88 65895.52
    ## 99  66368.71  67053.90 57027.49 57420.27 57131.26 57000.27 57364.61
    ## 100 76015.91  76196.92 63598.46 64022.77 63135.14 63297.27 63826.11
    ## 101 62966.61  60677.14 55227.34 55098.97 55457.11 55442.82 55521.67
    ## 102 64319.68  65025.67 59615.02 59668.04 59803.75 59624.64 59884.74
    ## 103 63149.71  64286.85 54212.16 54303.22 54276.33 54506.62 54339.66
    ## 104 64983.65  65213.54 59189.63 58900.37 59061.32 58917.20 59369.47
    ## 105 65978.89  66148.23 57927.17 57965.28 57970.52 58167.68 57954.16
    ## 106 63081.37  71852.09 59350.61 58991.23 59271.53 59378.51 59676.36
    ## 107 68319.47  72115.93 56645.70 56612.54 56861.52 56805.14 56597.26
    ## 108 71180.71  74694.89 62267.86 62615.28 62437.96 62455.18 62413.57
    ## 109 58532.66  59442.65 51928.36 51676.12 52183.64 51903.20 51881.27
    ## 110 67234.80  74926.36 58441.01 57817.34 58673.62 58167.84 58668.66
    ## 111 62974.38  68080.05 54533.04 54241.15 54089.05 54787.88 54823.45
    ## 112 63373.38  63653.54 59880.99 60229.37 60103.68 60069.25 59684.26
    ## 113 64752.41  79709.89 58676.62 58432.45 58878.68 58655.51 59008.70
    ## 114 63624.33  64909.43 60448.84 60284.96 60640.14 60675.98 60746.72
    ## 115 67545.85  64717.89 61339.47 61131.28 61291.05 61599.01 61601.68
    ## 116 61162.16  66418.20 55004.23 55344.27 54933.46 54839.07 55388.89
    ## 117 60758.92  64452.32 54643.07 54392.23 54869.46 54828.52 54671.06
    ## 118 69686.67  68607.64 63123.56 63217.64 63301.39 63192.98 63211.96
    ## 119 62219.33  65697.31 55820.94 55928.46 55984.73 55897.09 55814.09
    ## 120 81580.42  79596.62 67695.36 68086.81 67588.95 67749.06 67770.07
    ## 121 72255.59  71649.48 56943.95 57199.51 57077.36 56665.67 57018.99
    ## 122 63996.51  96019.20 56320.26 56274.06 56277.89 56199.56 56145.88
    ## 123 61174.40  58974.44 54358.73 54537.49 54171.87 54610.92 54207.85
    ## 124 68292.37  66483.74 57213.51 57141.49 57379.28 57304.88 57105.94
    ## 125 70442.62  84069.12 63021.14 63381.40 63027.19 63244.96 63308.95
    ## 126 65373.43  66421.76 59073.50 59235.22 59262.93 59225.23 59114.36
    ## 127 62926.01  67306.93 51246.44 51537.72 51463.19 51070.89 51260.28
    ## 128 63082.19  71241.65 55872.42 55798.60 56036.67 55803.30 56230.69
    ## 129 61951.86  70308.79 54858.11 54931.16 55098.93 54604.85 55174.39
    ## 130 69019.17  70794.25 61123.87 60437.60 61092.18 61304.07 61458.84
    ## 131 67836.33  86051.62 62087.96 62358.87 62041.91 62380.90 62086.16
    ## 132 71965.32  81974.32 63405.12 63721.62 63586.30 62840.22 63550.98
    ## 133 64012.36  66810.76 47962.01 48087.72 47879.43 48188.68 47690.66
    ## 134 61632.12  67605.26 54969.45 54876.97 55069.49 54982.28 55075.55
    ## 135 67118.48 115159.07 55913.77 55620.70 56138.23 56036.13 55916.47
    ## 136 64281.47  66003.10 59418.09 59761.99 59270.73 59211.76 59257.47
    ## 137 63325.78  80269.48 57041.98 57022.53 57285.81 57087.86 57139.45
    ## 138 62389.12  64532.23 58444.93 57861.19 58319.97 58681.57 58456.52
    ## 139 64652.10  66135.92 58243.23 57594.24 58217.16 58480.54 57950.17
    ## 140 68938.98 100645.38 59881.85 59686.04 60079.05 60111.84 59985.00
    ## 141 67402.77  70010.61 58645.53 58923.36 58795.96 58805.85 58810.30
    ## 142 69738.19  67113.08 59281.38 59243.48 59169.39 59137.09 59344.50
    ## 143 63643.90  63929.73 55106.71 55292.22 55250.33 55087.56 54910.44
    ## 144 68265.17  71070.51 57514.91 57866.99 57364.92 57668.86 57568.16
    ## 145 63773.71  64840.04 53667.18 53714.17 53592.37 53722.55 54029.38
    ## 146 56085.86  91495.89 53586.44 53659.88 53757.23 53569.68 53982.67
    ## 147 60264.46  64661.57 52628.14 52562.83 52753.28 52746.40 53006.28
    ## 148 71279.42  68315.03 57509.60 57944.00 57330.99 57364.81 57506.32
    ## 149 70617.90  80862.98 61650.54 61031.67 61706.67 61454.52 61607.08
    ## 150 67534.22  69358.24 57290.49 56121.27 57201.43 56928.68 57604.14
    ## 151 63802.09  64009.58 60596.20 60628.50 60619.93 60761.14 60935.95
    ## 152 61445.32  63287.04 52049.72 52192.53 52035.37 52323.75 52300.80
    ## 153 70435.72  72554.60 60182.29 59857.38 59716.70 60471.44 59963.07
    ## 154 69807.58  70389.63 60491.19 60794.92 60430.70 60426.25 60645.90
    ## 155 69410.55  66393.43 55530.59 55818.79 55775.47 54915.64 55861.16
    ## 156 62437.60  62818.55 56201.68 56512.30 56159.76 55885.24 56513.46
    ## 157 81026.99  83341.46 68526.69 68905.22 68628.25 68473.76 68643.39
    ## 158 82990.00  83958.82 71512.84 71680.59 70684.32 71740.98 71428.86
    ## 159 63682.47  61017.89 56982.59 57408.73 57110.73 56807.71 57397.28
    ## 160 67783.71  71004.70 56829.07 56785.64 56747.17 57022.34 56823.86
    ## 161 70809.64  71757.58 62439.59 61334.82 62623.17 61954.76 62465.28
    ## 162 63997.62  93064.63 58793.49 58888.25 58573.04 58868.65 59002.72
    ## 163 62007.68  72679.98 56608.79 56258.86 56385.32 56860.15 56694.46
    ## 164 69157.03  74158.62 58990.00 59357.22 59220.19 58549.73 58943.23
    ## 165 69189.91  67589.81 60089.92 60505.56 59586.69 60221.34 60341.84
    ## 166 67336.45  70472.02 59251.91 59388.16 59188.91 59526.61 59372.69
    ## 167 72975.21  72509.29 59766.74 59217.71 59927.46 59705.25 59928.58
    ## 168 59827.92  86298.52 57258.69 56904.66 57430.50 57085.07 57293.61
    ## 169 74788.82  78223.46 59725.64 60102.97 59547.64 59771.85 59869.89
    ## 170 56645.34  59409.74 48303.02 47806.60 48504.32 48175.87 48555.92
    ## 171 62649.91  64669.02 56078.97 56028.13 56093.85 56282.76 56438.51
    ## 172 64479.26  64037.07 55604.58 56049.19 55816.51 55505.31 55831.44
    ## 173 64995.87  65026.36 55506.17 55119.58 55445.04 55470.22 55134.36
    ## 174 72477.18  87303.81 62067.58 62097.33 62140.07 62072.24 62068.29
    ## 175 65084.61  68095.67 55608.75 55677.41 55436.56 55791.19 55758.11
    ## 176 67943.07  68766.42 57498.24 57245.86 56979.95 57738.82 57609.91
    ## 177 58922.82  65961.70 52846.37 52351.19 53081.95 52597.71 52933.60
    ## 178 57692.36  61385.72 53836.87 53839.93 53799.75 53800.94 53840.65
    ## 179 66699.77  91554.93 56042.08 55956.54 56237.37 55998.74 55882.08
    ## 180 64243.99  67581.69 56100.29 55976.46 56242.21 55868.74 56314.80
    ## 181 69999.74  67732.57 60371.67 60813.51 60574.07 60023.62 60222.26
    ## 182 71669.86  72877.93 63617.07 63864.37 63350.57 63414.08 63781.40
    ## 183 62801.25 107631.80 58944.09 59063.36 59069.56 59238.63 58615.29
    ## 184 61022.12  62210.41 54867.21 55341.82 54962.30 55020.22 54959.60
    ## 185 66509.82 107769.43 60337.29 60614.35 60328.25 60529.45 60202.86
    ## 186 68992.77  67664.03 57528.62 57608.59 57737.79 57458.35 57767.19
    ## 187 71887.09  80804.39 61326.78 61221.04 61506.25 61066.01 61370.38
    ## 188 63501.72  78919.13 59254.16 59274.21 59220.94 59484.33 59589.51
    ## 189 73258.93  74861.59 65154.41 64880.97 64883.98 65406.76 64994.45
    ## 190 72916.79  74685.52 62093.55 62191.38 62184.72 62180.91 61993.79
    ## 191 80124.71  79988.21 69997.18 70333.79 69676.84 70043.94 69845.62
    ## 192 62338.46  63639.90 53519.28 53896.52 53560.39 53487.74 53595.83
    ## 193 65514.00  64967.39 53271.56 53731.94 53531.79 53083.85 53329.55
    ## 194 77787.39  77204.42 70309.32 70515.22 70470.89 70405.97 70454.31
    ## 195 64293.89  91121.12 61807.64 61135.78 61884.27 61445.75 61831.67
    ## 196 67897.83  68761.79 62786.97 63049.43 62788.80 62989.39 62772.83
    ## 197 74385.45 106024.82 64333.14 63793.81 63377.69 64547.35 64664.33
    ## 198 61594.53  61948.29 56025.35 56170.80 55900.54 55901.77 56178.91
    ## 199 61930.29  80974.03 56905.31 56721.58 56649.36 56905.23 56592.48
    ## 200 64172.25  66652.02 49906.08 50135.14 50071.26 49550.93 49902.15

    ##       V1       V2       V3       V4       V5       V6       V7 
    ## 66722.43 73657.08 58462.18 58480.17 58479.55 58480.71 58570.52

The above result represents that: v1-meidium model v2-big model v3-standard model-the model we use v4-v7 are the models to test which variables in v3 model are “strong drivers” v4-standard model without room\*bathrooms variable v5-standared model without age variable v6-standard model without bedrooms variable v7-standard model without centralAir Variable From the result above we can see standard model has the lowest RMSE. (cause it runs 200 times so the colMeans result is stable to most extent) And it is much lower than the medium model. Comparing v3 with v4-v7, we can see the biggest difference with v3 is v7(without centralAir variable) the second biggest difference is V6 (without bedrooms variable) So accordingly, we think centralAir and bedrooms are strong drivers house prices according to RMSE indicator.

    ##                  (Intercept)                     bedrooms 
    ##              100965.98893874               -7039.13432505 
    ##            newConstructionNo       heatinghot water/steam 
    ##               49058.59589647               48583.08220697 
    ##              heatingelectric                   fireplaces 
    ##               11787.08332278                 669.40250367 
    ##                   livingArea                          age 
    ##                  68.33046023                -110.01480500 
    ##                 waterfrontNo                 centralAirNo 
    ##             -102279.82677343              -10565.79529112 
    ##                        rooms                    landValue 
    ##                -895.22005794                   0.94931956 
    ##                      lotSize                    bathrooms 
    ##               13587.11696341                3251.78105293 
    ## heatinghot water/steam:rooms        heatingelectric:rooms 
    ##               -8221.61588987               -2710.58894522 
    ##            landValue:lotSize              rooms:bathrooms 
    ##                  -0.09928267                3016.94631863

As for the second point, our group will workout the coefficient of the model we select

we found the coefficient of each variable as the above coding shows.And we give a definition that top 3 coefficient variables are strong driver: so in this case, livingarea, bathrooms and landValue are 3 strong drivers.

As the above shows we break the categorical variable in order to run KNN model, also this aim is to figure out what does the KNN model like.

    ##     lotSize age landValue livingArea bedrooms fireplaces bathrooms rooms
    ## 914    0.36  20     27000       1508        3          1       2.0     7
    ## 617    0.50  43     73500       1850        3          1       1.5     7
    ##     heatinghot air heatinghot water/steam heatingelectric waterfrontNo
    ## 914              1                      0               0            1
    ## 617              1                      0               0            1
    ##     newConstructionNo centralAirNo
    ## 914                 1            1
    ## 617                 1            1

    ##     lotSize    age landValue livingArea bedrooms fireplaces bathrooms
    ## 914  -0.196 -0.253    -0.206     -0.419   -0.202      0.679     0.120
    ## 617  -0.004  0.552     1.114      0.125   -0.202      0.679    -0.632
    ##      rooms heatinghot air heatinghot water/steam heatingelectric
    ## 914 -0.031          0.739                 -0.441          -0.485
    ## 617 -0.031          0.739                 -0.441          -0.485
    ##     waterfrontNo newConstructionNo centralAirNo
    ## 914        0.094             0.226        0.779
    ## 617        0.094             0.226        0.779

    ## [1] 59601.65

    ## 
    ## Attaching package: 'foreach'

    ## The following objects are masked from 'package:purrr':
    ## 
    ##     accumulate, when

We also need to standarized each variable as the above explained.

After we need to know which K will minimize the RMSE in KNN model, so that we can use the lowest RMSE in KNN to compaere with the RMSE in handbuild model.

    ## [1] 8

    ## [1] 58935.77

![](Untitled_files/figure-markdown_github/setup6-1.png)

    ## [1] "rmse is 85375.3153530343"
    ## [1] "K is 1"
    ## [1] "rmse is 70619.5223683812"
    ## [1] "K is 2"
    ## [1] "rmse is 65896.36494559"
    ## [1] "K is 3"
    ## [1] "rmse is 63694.20237753"
    ## [1] "K is 4"
    ## [1] "rmse is 61570.0014368504"
    ## [1] "K is 5"
    ## [1] "rmse is 59947.8887267942"
    ## [1] "K is 6"
    ## [1] "rmse is 59265.4783152369"
    ## [1] "K is 7"
    ## [1] "rmse is 58935.7660271936"
    ## [1] "K is 8"
    ## [1] "rmse is 59056.7063580081"
    ## [1] "K is 9"
    ## [1] "rmse is 59601.6460354671"
    ## [1] "K is 10"
    ## [1] "rmse is 59441.5667411814"
    ## [1] "K is 11"
    ## [1] "rmse is 59108.6786543187"
    ## [1] "K is 12"
    ## [1] "rmse is 59231.5375573719"
    ## [1] "K is 13"
    ## [1] "rmse is 59256.7181078778"
    ## [1] "K is 14"
    ## [1] "rmse is 59350.7838721355"
    ## [1] "K is 15"
    ## [1] "rmse is 59494.7070426998"
    ## [1] "K is 16"
    ## [1] "rmse is 59646.6768550292"
    ## [1] "K is 17"
    ## [1] "rmse is 60008.7951779175"
    ## [1] "K is 18"
    ## [1] "rmse is 60371.0742745054"
    ## [1] "K is 19"
    ## [1] "rmse is 60358.1754856862"
    ## [1] "K is 20"
    ## [1] "rmse is 60008.4245059453"
    ## [1] "K is 21"
    ## [1] "rmse is 60092.0934181752"
    ## [1] "K is 22"
    ## [1] "rmse is 60084.2629737773"
    ## [1] "K is 23"
    ## [1] "rmse is 60311.2849017218"
    ## [1] "K is 24"
    ## [1] "rmse is 60425.739265825"
    ## [1] "K is 25"
    ## [1] "rmse is 60559.2516728764"
    ## [1] "K is 26"
    ## [1] "rmse is 60586.2877645877"
    ## [1] "K is 27"
    ## [1] "rmse is 60630.3152050121"
    ## [1] "K is 28"
    ## [1] "rmse is 60925.7514621066"
    ## [1] "K is 29"
    ## [1] "rmse is 61131.6130391467"
    ## [1] "K is 30"
    ## [1] "rmse is 61253.2119311249"
    ## [1] "K is 31"
    ## [1] "rmse is 61338.2723705626"
    ## [1] "K is 32"
    ## [1] "rmse is 61618.1905940868"
    ## [1] "K is 33"
    ## [1] "rmse is 61809.3188143053"
    ## [1] "K is 34"
    ## [1] "rmse is 61860.360474445"
    ## [1] "K is 35"
    ## [1] "rmse is 61824.2556330809"
    ## [1] "K is 36"
    ## [1] "rmse is 61726.4565751195"
    ## [1] "K is 37"
    ## [1] "rmse is 61809.3369430378"
    ## [1] "K is 38"
    ## [1] "rmse is 61888.2689479264"
    ## [1] "K is 39"
    ## [1] "rmse is 62008.6873120749"
    ## [1] "K is 40"
    ## [1] "rmse is 62120.739673304"
    ## [1] "K is 41"
    ## [1] "rmse is 62194.4687412538"
    ## [1] "K is 42"
    ## [1] "rmse is 62248.3611864519"
    ## [1] "K is 43"
    ## [1] "rmse is 62466.7109117725"
    ## [1] "K is 44"
    ## [1] "rmse is 62567.6840516779"
    ## [1] "K is 45"
    ## [1] "rmse is 62742.2893676179"
    ## [1] "K is 46"
    ## [1] "rmse is 62818.7214820486"
    ## [1] "K is 47"
    ## [1] "rmse is 62866.5593853812"
    ## [1] "K is 48"
    ## [1] "rmse is 62840.3111352715"
    ## [1] "K is 49"
    ## [1] "rmse is 62866.2680114087"
    ## [1] "K is 50"
    ## [1] "rmse is 63082.9744083582"
    ## [1] "K is 51"
    ## [1] "rmse is 63182.6448410442"
    ## [1] "K is 52"
    ## [1] "rmse is 63254.7560521263"
    ## [1] "K is 53"
    ## [1] "rmse is 63365.7781881913"
    ## [1] "K is 54"
    ## [1] "rmse is 63418.907081779"
    ## [1] "K is 55"
    ## [1] "rmse is 63616.5212729198"
    ## [1] "K is 56"
    ## [1] "rmse is 63575.8505024638"
    ## [1] "K is 57"
    ## [1] "rmse is 63680.0403187953"
    ## [1] "K is 58"
    ## [1] "rmse is 63708.4886434415"
    ## [1] "K is 59"
    ## [1] "rmse is 63785.4840992701"
    ## [1] "K is 60"
    ## [1] "rmse is 63866.9503320838"
    ## [1] "K is 61"
    ## [1] "rmse is 63925.7717243195"
    ## [1] "K is 62"
    ## [1] "rmse is 63970.7975444935"
    ## [1] "K is 63"
    ## [1] "rmse is 63983.6517361498"
    ## [1] "K is 64"
    ## [1] "rmse is 64004.1596184503"
    ## [1] "K is 65"
    ## [1] "rmse is 64030.4799591344"
    ## [1] "K is 66"
    ## [1] "rmse is 64040.7463830094"
    ## [1] "K is 67"
    ## [1] "rmse is 64084.2345259235"
    ## [1] "K is 68"
    ## [1] "rmse is 64079.5776618714"
    ## [1] "K is 69"
    ## [1] "rmse is 64139.4101468758"
    ## [1] "K is 70"
    ## [1] "rmse is 64223.3491076501"
    ## [1] "K is 71"
    ## [1] "rmse is 64246.9345352088"
    ## [1] "K is 72"
    ## [1] "rmse is 64207.0839041384"
    ## [1] "K is 73"
    ## [1] "rmse is 64197.461387848"
    ## [1] "K is 74"
    ## [1] "rmse is 64260.5008304322"
    ## [1] "K is 75"
    ## [1] "rmse is 64279.132911694"
    ## [1] "K is 76"
    ## [1] "rmse is 64299.3728315769"
    ## [1] "K is 77"
    ## [1] "rmse is 64333.6120055665"
    ## [1] "K is 78"
    ## [1] "rmse is 64344.2835232118"
    ## [1] "K is 79"
    ## [1] "rmse is 64394.155701671"
    ## [1] "K is 80"
    ## [1] "rmse is 64478.7103543304"
    ## [1] "K is 81"
    ## [1] "rmse is 64507.2756107003"
    ## [1] "K is 82"
    ## [1] "rmse is 64556.3942495396"
    ## [1] "K is 83"
    ## [1] "rmse is 64575.2878380876"
    ## [1] "K is 84"
    ## [1] "rmse is 64581.7567467148"
    ## [1] "K is 85"
    ## [1] "rmse is 64559.6443715392"
    ## [1] "K is 86"
    ## [1] "rmse is 64593.0981569996"
    ## [1] "K is 87"
    ## [1] "rmse is 64585.1190768723"
    ## [1] "K is 88"
    ## [1] "rmse is 64668.6966313779"
    ## [1] "K is 89"
    ## [1] "rmse is 64618.244959316"
    ## [1] "K is 90"
    ## [1] "rmse is 64683.100756889"
    ## [1] "K is 91"
    ## [1] "rmse is 64667.2834008184"
    ## [1] "K is 92"
    ## [1] "rmse is 64600.4270970969"
    ## [1] "K is 93"
    ## [1] "rmse is 64598.9307439676"
    ## [1] "K is 94"
    ## [1] "rmse is 64605.7294125693"
    ## [1] "K is 95"
    ## [1] "rmse is 64549.3877055769"
    ## [1] "K is 96"
    ## [1] "rmse is 64580.8579825694"
    ## [1] "K is 97"
    ## [1] "rmse is 64606.9809338214"
    ## [1] "K is 98"
    ## [1] "rmse is 64571.615699885"
    ## [1] "K is 99"
    ## [1] "rmse is 64620.9356152101"
    ## [1] "K is 100"

Using the code above, we can print out what RMSE the model has and its according K. Also we can find out which K has the minimum RMSE and how much is minimized RMSE.

And RMSE in KNN model is bigger than the “hand build linear model” in most cases (both models using the same train and test data set), the reason why it is most cases is becasue when we distribute train data set and test data set, the process is random so that we will have different train data set and test data set each time. But overall we can give a conclusion that linear model can predict more accurately than KNN model, so hand build linear model can turn into better performing than KNN model.

So for local taxing authority, they need to levy tax according to the price of house, as the above illustrated, the hand build model has more accurately prediction, so it is better for taxing authority using the hand build linear model to predict price: price=bedrooms+ newConstruction+ heating+ fireplaces+ livingArea+ age+waterfront+centralAir+rooms*heating+landValue*lotSize+rooms\*bathrooms. And according to the predicted price, it can know how much local taxing authority should tax.
